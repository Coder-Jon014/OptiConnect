import{r as d,y as c,j as e,Y as p}from"./app-Cu3l4FNv.js";import{P as m}from"./Pagination-CTlJceeo.js";import{A as _}from"./AuthenticatedLayout-Bc5rdFzU.js";import{T as i}from"./TableHeading-Blx7bQwk.js";import"./ApplicationLogo-BN9aUCwg.js";import"./transition-CKlETVf9.js";function N({auth:a,customers:l,queryParams:t=null}){t=t||{};const n=d.useCallback((s,o)=>{o?t[s]=o:delete t[s],c.get(route("customer.index"),t)},[t]),r=d.useCallback(s=>{s===t.sort_field?t.sort_direction=t.sort_direction==="asc"?"desc":"asc":(t.sort_field=s,t.sort_direction="asc"),c.get(route("customer.index"),t)},[t]);d.useCallback((s,o)=>{o.key==="Enter"&&n(s,o.target.value)},[n]);const x=d.useCallback(()=>{window.location.href=route("customers.export")},[]),h=d.useMemo(()=>l.data||[],[l.data]);return e.jsxs(_,{user:a.user,header:e.jsx("h2",{className:"font-semibold text-xl text-white leading-tight",children:"Customers"}),subheader:e.jsx("p",{className:"font-regular text-md text-[var(--subheader)] leading-tight",children:"List of customers in the system"}),children:[e.jsx(p,{title:"Customers"}),e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"m-10 rounded-xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsx("button",{onClick:x,className:"bg-green-700 hover:bg-green-900 text-white font-bold py-2 px-4 rounded mb-2",children:"Export Customers"}),e.jsx("div",{className:"overflow-auto rounded bg-[var(--foreground)] border-2 border-[var(--border)] p-4",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-white",children:[e.jsx("thead",{className:"text-xs text-[var(--table-headings)] uppercase rounded-t-lg border-b border-[var(--border)]",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(i,{sort_field:t.sort_field,sort_direction:t.sort_direction,name:"customer_id",sortChanged:r,children:"Customer ID"}),e.jsx(i,{sort_field:t.sort_field,sort_direction:t.sort_direction,name:"customer_name",sortChanged:r,children:"Customer Name"}),e.jsx(i,{sort_field:t.sort_field,sort_direction:t.sort_direction,name:"phone",sortChanged:r,children:"Phone"}),e.jsx(i,{sort_field:t.sort_field,sort_direction:t.sort_direction,name:"town",sortChanged:r,children:"Town"}),e.jsx(i,{sort_field:t.sort_field,sort_direction:t.sort_direction,name:"customer_type",sortChanged:r,children:"Customer Type"})]})}),e.jsx("thead",{className:"text-xs text-gray-700 uppercase"}),e.jsx("tbody",{children:h.map((s,o)=>e.jsxs("tr",{className:`hover:bg-[var(--table-hover)] border-b border-[var(--border)] rounded-full text-white ${o===0?"bg-[var(--even-odd)]":""}`,children:[e.jsx("td",{className:"py-2 px-4 rounded-l-lg ",children:s.customer_id}),e.jsx("td",{className:"py-2 px-4 ",children:s.customer_name}),e.jsx("td",{className:"py-2 px-4 ",children:s.telephone}),e.jsx("td",{className:"py-2 px-4 ",children:s.town.town_name}),e.jsx("td",{className:"py-2 px-4 rounded-r-lg",children:s.customerType.customer_type_name})]},s.customer_id))})]})}),e.jsx(m,{links:l.meta.links})]})})})})]})}export{N as default};
